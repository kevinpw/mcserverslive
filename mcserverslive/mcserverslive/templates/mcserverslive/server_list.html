{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block footer %}
{% include 'footer.html' %}
{% endblock %}

{% block auth_bar %}
{% include 'auth_bar.html' %}
{% endblock %}

{% block content %}
<div id="server_list_head">
	<table>
		<tr>
			<td>Name</td>
			<td>Description</td>
			<td>Current/Max Players</td>
		</tr>
	</table>
</div>
<div id="server_list">
	{% if object_list %}
		<ul>
			{% for server, dt, np in object_tuples %}
				<a href="{% url 'detail' server.pk %}">
				<li>
					<table>
						<tr>
							<td>
								{{ server.server_name }}<br/><br/>
								ip: {{ server.ip }}<br/>
								port: {{ server.port }}<br/>
								votes: {{ server.votes }}<br/>
								Last query: {{ dt }} minutes ago
							</td>
							<td>
								<img id="banner" src="{{ MEDIA_URL }}{{ server.banner }}" /><br/>
								version: {{ server.version }}, Game Type: {{ server.game_type }}<br/><br/>
								{{ server.motd }}
							</td>
							<td>
								{% ifnotequal np None %}
									{{ np }}/{{ server.max_players }}
								{% else %}
									offline
								{% endifnotequal %}
							</td>
						</tr>
					</table>
				</li>
				</a>
			{% endfor %}
		</ul>
		
		{% include 'pagination.html' %}		

	{% else %}
		<p>No servers to show.</p>
	{% endif %}

</div>
{% endblock %}
